<!DOCTYPE html>
<html>
  <head>
    <title>Watsonx Web App</title>
  </head>
  <body>
    <h1>Ask Watsonx</h1>
    <input type="text" id="prompt" placeholder="Type your question here" />
    <button onclick="sendPrompt()">Submit</button>
    <pre id="response"></pre>

    <script>
      async function sendPrompt() {
        const prompt = document.getElementById("prompt").value;
        const responseEl = document.getElementById("response");

        const res = await fetch("/query", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ prompt }),
        });

        const data = await res.json();
        responseEl.textContent = JSON.stringify(data, null, 2);
      }
    </script>
  </body>
</html>
